param (
    [string]$ScriptLocation = $PSScriptRoot
)

$targetFile = Join-Path $ScriptLocation '..\..\AzureExtension\Telemetry\TelemetryEventSource.cs'
$targetFile = [System.IO.Path]::GetFullPath($targetFile)

if (Test-Path $targetFile) {
    $header = '// <auto-generated/>'
    $content = Get-Content $targetFile

    if ($content[0] -ne $header) {
        $newContent = @($header) + $content
        Set-Content -Path $targetFile -Value $newContent
    }
}
else {
    Write-Error "File not found: $targetFile"
}